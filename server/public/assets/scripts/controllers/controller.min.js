/*! rtc.io 2016-01-27 */
myApp.controller("HomeController",["$scope",function(a){console.log("home controller")}]),myApp.controller("LobbyController",["$scope",function(a){console.log("lobby controller");var b=io.connect("http://localhost:5000");a.option="",a.kiosk=!1,a.user=!1,a.options=["kiosk","option1","option2","option3","option4","option5","option6"],a.newArray=[],a.loggedIn=!1,a.quickFunction=function(){console.log("before this?")},b.on("optionArray",function(b){console.log(b),a.newArray=[],a.newArray=b.array;for(var c=0;c<a.options.length;c++)for(var d=0;d<a.newArray.length;d++)a.options[c]==a.newArray[d]&&a.options.splice(c,1);console.log("does it happen to late")}),b.on("entrance",function(a){}),b.on("exit",function(a){}),b.on("call",function(a){console.log("a call has been made");$("<div>").css("color","black").text(a.message);$("body").append}),b.on("invite",function(a){console.log("you have been invited"+a.link);var b=$("<div><a href ='#videochat'>Click here to join</a></div>");$("body").append(b)}),a.kioskLogin=function(){a.getOptions(),a.kiosk=!a.kiosk},a.getOptions=function(){b.emit("getOptions")},a.callFunction=function(){b.emit("call",{call:"call has been made"})},a.loginFunction=function(c){console.log(c),a.loggedIn=!a.loggedIn,b.emit("login",{option:c}),"kiosk"==c?a.kiosk=!a.kiosk:a.user=!a.user},a.getOptions()}]),myApp.controller("VideoChatController",["$scope",function(a){function b(a,b,c,d){b.onmessage=function(a){h.innerHTML=a.data},h.onkeyup=function(){b.send(this.innerHTML)}}function c(a){a.createDataChannel("chat"),a.on("channel:opened:chat",b)}console.log("videochat controller");var d={room:"test-room",signaller:"ws://localhost:5000"},e=RTC(d),f=document.getElementById("l-video"),g=document.getElementById("r-video"),h=document.getElementById("messages");f.appendChild(e.local),g.appendChild(e.remote),e.on("ready",c)}]);